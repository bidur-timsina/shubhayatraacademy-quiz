<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Shubha Yatra Academy</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,400&display=swap" rel="stylesheet"/>

<style>
:root {
  --bg: #0b0f19;
  --surface: #111827;
  --surface2: #1a2235;
  --border: rgba(255,255,255,.07);
  --border2: rgba(255,255,255,.12);
  --text: #e8edf5;
  --muted: #6b7a99;
  --accent: #4f8ef7;
  --accent2: #7b5ea7;
  --green: #22c97a;
  --red: #f75555;
  --gold: #f5c842;
  --r: 18px;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: 'DM Sans', sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
}

/* Ambient bg blobs */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  background:
    radial-gradient(ellipse 800px 500px at 10% 20%, rgba(79,142,247,.10) 0%, transparent 60%),
    radial-gradient(ellipse 600px 400px at 90% 80%, rgba(123,94,167,.10) 0%, transparent 60%);
  pointer-events: none;
  z-index: 0;
}

/* ‚îÄ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ‚îÄ */
header {
  position: sticky; top: 0; z-index: 100;
  background: rgba(11,15,25,.82);
  backdrop-filter: blur(18px);
  border-bottom: 1px solid var(--border);
}
.hdr {
  max-width: 1100px; margin: 0 auto;
  padding: 14px 20px;
  display: flex; align-items: center; justify-content: space-between; gap: 12px;
}
.brand {
  display: flex; align-items: center; gap: 11px;
  font-family: 'Syne', sans-serif;
  font-weight: 800; font-size: 1.15rem;
  color: var(--text);
  cursor: pointer; user-select: none;
  letter-spacing: -.3px;
}
.brand-mark {
  width: 36px; height: 36px; border-radius: 10px;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  display: grid; place-items: center;
  font-size: .85rem; font-weight: 800; color: #fff;
  flex-shrink: 0;
  box-shadow: 0 0 20px rgba(79,142,247,.35);
}
.brand em { color: var(--accent); font-style: normal; }
@media (max-width: 380px) { .brand-text { display: none; } }

.hdr-right { display: flex; align-items: center; gap: 10px; }
.chip {
  padding: 6px 12px; border-radius: 999px;
  border: 1px solid var(--border2);
  background: var(--surface);
  color: var(--muted); font-size: .83rem;
  display: flex; align-items: center; gap: 6px;
  font-family: 'DM Sans', sans-serif;
}
.chip b { color: var(--text); }

/* ‚îÄ‚îÄ‚îÄ BREADCRUMB ‚îÄ‚îÄ‚îÄ */
.bc-wrap {
  background: rgba(17,24,39,.6);
  border-bottom: 1px solid var(--border);
}
.bc {
  max-width: 1100px; margin: 0 auto;
  padding: 10px 20px;
  display: flex; align-items: center; gap: 7px;
  font-size: .83rem; color: var(--muted);
  flex-wrap: wrap;
}
.bc-item {
  color: var(--accent); font-weight: 600;
  cursor: pointer; user-select: none;
  transition: opacity .15s;
}
.bc-item:hover { opacity: .75; }
.bc-sep { opacity: .35; font-size: .9rem; }
.bc-current { color: var(--text); font-weight: 500; }

/* ‚îÄ‚îÄ‚îÄ MAIN ‚îÄ‚îÄ‚îÄ */
main {
  max-width: 1100px; margin: 0 auto;
  padding: 28px 20px 60px;
  position: relative; z-index: 1;
}

/* ‚îÄ‚îÄ‚îÄ PAGE HERO ‚îÄ‚îÄ‚îÄ */
.page-hero { margin-bottom: 24px; }
.page-hero h1 {
  font-family: 'Syne', sans-serif;
  font-size: 1.7rem; font-weight: 800;
  color: var(--text); letter-spacing: -.5px;
  line-height: 1.2;
}
.page-hero p { color: var(--muted); margin-top: 6px; font-size: .95rem; }

/* ‚îÄ‚îÄ‚îÄ SECTION SHELL ‚îÄ‚îÄ‚îÄ */
.section-shell {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 24px;
  padding: 20px;
}
.section-label {
  font-family: 'Syne', sans-serif;
  font-size: .75rem; font-weight: 700;
  letter-spacing: .12em;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 16px;
  padding-bottom: 12px;
  border-bottom: 1px solid var(--border);
  display: flex; align-items: center; gap: 8px;
}
.section-label::before {
  content: '';
  display: inline-block; width: 6px; height: 6px;
  border-radius: 50%;
  background: var(--accent);
  box-shadow: 0 0 8px var(--accent);
}

/* ‚îÄ‚îÄ‚îÄ CARDS GRID ‚îÄ‚îÄ‚îÄ */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 14px;
}

.card {
  background: var(--surface2);
  border: 1px solid var(--border);
  border-radius: var(--r);
  padding: 18px;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: transform .2s ease, border-color .2s ease, box-shadow .2s ease;
}
.card::after {
  content: '';
  position: absolute; inset: 0;
  background: radial-gradient(ellipse 200px 120px at 0% 0%, rgba(79,142,247,.10), transparent 55%);
  pointer-events: none;
  transition: opacity .2s;
}
.card:hover {
  transform: translateY(-4px);
  border-color: rgba(79,142,247,.35);
  box-shadow: 0 16px 40px rgba(0,0,0,.35);
}
.card:hover::after { opacity: 2; }

.card-head { display: flex; align-items: flex-start; justify-content: space-between; gap: 10px; margin-bottom: 12px; }
.card-icon {
  width: 44px; height: 44px; border-radius: 12px;
  background: linear-gradient(135deg, rgba(79,142,247,.2), rgba(79,142,247,.06));
  border: 1px solid rgba(79,142,247,.2);
  display: grid; place-items: center;
  font-size: 20px; flex-shrink: 0;
}
.card-tag {
  background: rgba(79,142,247,.12);
  border: 1px solid rgba(79,142,247,.2);
  color: var(--accent);
  font-size: .75rem; font-weight: 600;
  padding: 4px 9px; border-radius: 999px;
  white-space: nowrap;
}
.card h3 {
  font-family: 'Syne', sans-serif;
  font-size: 1rem; font-weight: 700;
  color: var(--text); margin-bottom: 5px;
  line-height: 1.3;
}
.card p { color: var(--muted); font-size: .855rem; line-height: 1.5; }
.card-footer {
  margin-top: 14px;
  display: flex; align-items: center; justify-content: space-between;
  color: var(--accent); font-size: .83rem; font-weight: 600;
}
.arrow-btn {
  width: 30px; height: 30px; border-radius: 8px;
  background: rgba(79,142,247,.14);
  border: 1px solid rgba(79,142,247,.25);
  display: grid; place-items: center;
  font-size: .9rem;
  transition: background .15s;
}
.card:hover .arrow-btn { background: rgba(79,142,247,.28); }

/* ‚îÄ‚îÄ‚îÄ QUIZ LAYOUT ‚îÄ‚îÄ‚îÄ */
.quiz-wrap { max-width: 740px; margin: 0 auto; }

.quiz-shell {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 24px;
  overflow: hidden;
}

/* Quiz Header */
.quiz-hdr {
  padding: 18px 22px;
  border-bottom: 1px solid var(--border);
  display: flex; align-items: center; justify-content: space-between; gap: 12px;
  background: var(--surface2);
}
.quiz-title {
  font-family: 'Syne', sans-serif;
  font-size: 1rem; font-weight: 700; color: var(--text);
}
.timer-chip {
  display: flex; align-items: center; gap: 7px;
  padding: 7px 12px; border-radius: 999px;
  background: rgba(247,85,85,.1);
  border: 1px solid rgba(247,85,85,.2);
  color: var(--red);
  font-weight: 700; font-size: .9rem;
  user-select: none; transition: background .3s;
}
.timer-chip.warn { background: rgba(247,85,85,.2); }

/* Progress */
.progress-row {
  padding: 12px 22px;
  border-bottom: 1px solid var(--border);
  background: rgba(0,0,0,.15);
}
.progress-info {
  display: flex; justify-content: space-between; align-items: center;
  font-size: .82rem; color: var(--muted); margin-bottom: 8px;
}
.progress-info span b { color: var(--text); }
.score-badge {
  display: flex; align-items: center; gap: 5px;
  color: var(--green); font-weight: 700;
  font-size: .85rem;
}
.progress-bar {
  width: 100%; height: 6px;
  background: rgba(255,255,255,.06);
  border-radius: 999px; overflow: hidden;
}
.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  border-radius: 999px;
  transition: width .35s ease;
  box-shadow: 0 0 8px var(--accent);
}

/* Timer bar */
.timer-bar {
  width: 100%; height: 3px;
  background: rgba(255,255,255,.04);
  overflow: hidden;
}
.timer-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--green), var(--accent));
  width: 100%;
  transition: width 1s linear;
  transform-origin: left;
}
.timer-fill.low { background: linear-gradient(90deg, var(--red), #ff8c00); }

/* Q Body */
.q-body { padding: 24px 22px; }
.q-num {
  font-size: .75rem; font-weight: 700; letter-spacing: .1em;
  text-transform: uppercase; color: var(--muted);
  margin-bottom: 10px;
  display: flex; align-items: center; gap: 6px;
}
.q-num::before {
  content: ''; display: inline-block;
  width: 5px; height: 5px; border-radius: 50%;
  background: var(--accent);
}
.q-text {
  font-family: 'Syne', sans-serif;
  font-size: 1.2rem; font-weight: 700;
  color: var(--text); line-height: 1.4;
  margin-bottom: 20px;
}

/* Options */
.options { display: flex; flex-direction: column; gap: 9px; }
.opt {
  background: rgba(255,255,255,.04);
  border: 1px solid var(--border2);
  border-radius: 13px;
  padding: 13px 14px;
  display: flex; align-items: center; gap: 12px;
  cursor: pointer;
  transition: background .15s, border-color .15s, transform .12s;
  text-align: left;
  color: var(--text);
  font-size: .93rem; font-weight: 500;
}
.opt:not(:disabled):hover {
  background: rgba(79,142,247,.09);
  border-color: rgba(79,142,247,.3);
  transform: translateX(3px);
}
.opt:disabled { cursor: default; transform: none !important; }
.opt-key {
  width: 28px; height: 28px; border-radius: 8px;
  background: rgba(255,255,255,.07);
  border: 1px solid var(--border2);
  display: grid; place-items: center;
  font-size: .78rem; font-weight: 800; color: var(--muted);
  flex-shrink: 0; font-family: 'Syne', sans-serif;
  transition: background .15s, color .15s;
}
.opt.correct {
  background: rgba(34,201,122,.09);
  border-color: rgba(34,201,122,.35);
}
.opt.correct .opt-key {
  background: rgba(34,201,122,.2);
  border-color: rgba(34,201,122,.4);
  color: var(--green);
}
.opt.wrong {
  background: rgba(247,85,85,.08);
  border-color: rgba(247,85,85,.3);
}
.opt.wrong .opt-key {
  background: rgba(247,85,85,.18);
  border-color: rgba(247,85,85,.35);
  color: var(--red);
}

/* Quiz footer */
.quiz-footer {
  padding: 16px 22px;
  border-top: 1px solid var(--border);
  display: flex; align-items: center; justify-content: space-between; gap: 10px;
  background: var(--surface2);
}
.btn {
  padding: 10px 18px; border-radius: 999px;
  border: none; cursor: pointer;
  font-family: 'DM Sans', sans-serif;
  font-size: .88rem; font-weight: 600;
  display: inline-flex; align-items: center; gap: 7px;
  transition: all .15s;
}
.btn.ghost {
  background: rgba(255,255,255,.06);
  border: 1px solid var(--border2);
  color: var(--muted);
}
.btn.ghost:hover { background: rgba(255,255,255,.1); color: var(--text); }
.btn.primary {
  background: linear-gradient(135deg, var(--accent), #3a7de8);
  color: #fff;
  box-shadow: 0 6px 20px rgba(79,142,247,.35);
}
.btn.primary:hover { box-shadow: 0 8px 26px rgba(79,142,247,.5); transform: translateY(-1px); }
.btn.primary:disabled { opacity: .45; cursor: not-allowed; transform: none; box-shadow: none; }

/* ‚îÄ‚îÄ‚îÄ RESULT ‚îÄ‚îÄ‚îÄ */
.result-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 24px;
  padding: 40px 24px;
  text-align: center;
  max-width: 500px; margin: 0 auto;
  position: relative; overflow: hidden;
}
.result-card::before {
  content: '';
  position: absolute; top: -60px; left: 50%; transform: translateX(-50%);
  width: 300px; height: 300px; border-radius: 50%;
  background: radial-gradient(circle, rgba(79,142,247,.12), transparent 70%);
  pointer-events: none;
}
.result-emoji { font-size: 3.5rem; margin-bottom: 12px; }
.result-title {
  font-family: 'Syne', sans-serif;
  font-size: 1.5rem; font-weight: 800;
  color: var(--text); margin-bottom: 8px;
}
.result-score {
  font-family: 'Syne', sans-serif;
  font-size: 3.8rem; font-weight: 800;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
  line-height: 1;
  margin: 8px 0;
}
.result-sub { color: var(--muted); font-size: .9rem; margin-bottom: 6px; }
.result-msg {
  margin: 16px 0 24px;
  color: var(--text); font-size: 1rem; font-weight: 500;
}
.result-stats {
  display: flex; gap: 12px; justify-content: center; flex-wrap: wrap;
  margin-bottom: 24px;
}
.stat-chip {
  padding: 8px 14px; border-radius: 999px;
  border: 1px solid var(--border2);
  background: var(--surface2);
  font-size: .83rem; color: var(--muted);
  display: flex; align-items: center; gap: 5px;
}
.stat-chip b { color: var(--text); }
.stat-chip.g b { color: var(--green); }
.stat-chip.r b { color: var(--red); }

/* ‚îÄ‚îÄ‚îÄ UTILITIES ‚îÄ‚îÄ‚îÄ */
.hidden { display: none !important; }
.spin { animation: spin .7s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

/* Fade in */
.fade-in { animation: fadeUp .35s ease forwards; }
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(14px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ‚îÄ‚îÄ‚îÄ MOBILE-FIRST RESPONSIVE ‚îÄ‚îÄ‚îÄ */

/* Tap highlight removal for mobile */
* { -webkit-tap-highlight-color: transparent; }

/* Active states for touch (more responsive than hover on mobile) */
@media (hover: none) {
  .opt:not(:disabled):active {
    background: rgba(79,142,247,.14);
    border-color: rgba(79,142,247,.4);
    transform: scale(.98);
  }
  .card:active {
    transform: scale(.98);
    border-color: rgba(79,142,247,.35);
  }
  .btn:active { opacity: .82; transform: scale(.97); }
}

/* ‚îÄ‚îÄ ‚â§768px tablets / large phones ‚îÄ‚îÄ */
@media (max-width: 768px) {
  main { padding: 16px 14px 32px; }

  .page-hero h1 { font-size: 1.4rem; }
  .page-hero { margin-bottom: 16px; }

  .section-shell { padding: 16px; border-radius: 20px; }
  .grid { grid-template-columns: 1fr; gap: 12px; }

  .quiz-wrap { max-width: 100%; }
  .quiz-shell { border-radius: 20px; }

  .q-body { padding: 20px 16px; }
  .quiz-hdr { padding: 14px 16px; }
  .progress-row { padding: 10px 16px; }
  .quiz-footer { padding: 12px 16px; }

  .q-text { font-size: 1.1rem; }
  .result-score { font-size: 3.2rem; }
}

/* ‚îÄ‚îÄ ‚â§480px small phones ‚îÄ‚îÄ */
@media (max-width: 480px) {
  /* Header compact */
  .hdr { padding: 10px 14px; }
  .brand { font-size: 1rem; gap: 8px; }
  .brand-mark { width: 32px; height: 32px; border-radius: 9px; font-size: .78rem; }

  /* Breadcrumb tighter */
  .bc { padding: 8px 14px; font-size: .78rem; gap: 5px; }

  /* Main tighter */
  main { padding: 14px 12px 120px; } /* extra bottom padding for sticky footer */
  .page-hero h1 { font-size: 1.25rem; letter-spacing: -.3px; }
  .page-hero p { font-size: .875rem; }
  .page-hero { margin-bottom: 14px; }

  /* Section */
  .section-shell { padding: 14px 12px; border-radius: 18px; }
  .section-label { font-size: .7rem; margin-bottom: 12px; padding-bottom: 10px; }

  /* Cards full width with comfortable touch targets */
  .grid { gap: 10px; }
  .card { padding: 16px 14px; border-radius: 16px; }
  .card h3 { font-size: .97rem; }
  .card p { font-size: .83rem; }
  .card-icon { width: 40px; height: 40px; font-size: 18px; border-radius: 11px; }
  .card-footer { margin-top: 12px; font-size: .82rem; }
  .arrow-btn { width: 28px; height: 28px; border-radius: 7px; }

  /* Quiz shell - full bleed on mobile */
  .quiz-shell { border-radius: 18px; }
  .quiz-hdr { padding: 13px 14px; }
  .quiz-title { font-size: .92rem; }
  .timer-chip { padding: 6px 10px; font-size: .82rem; gap: 5px; }

  .progress-row { padding: 9px 14px; }
  .progress-info { font-size: .78rem; }

  .q-body { padding: 18px 14px 14px; }
  .q-num { font-size: .7rem; margin-bottom: 8px; }
  .q-text { font-size: 1.05rem; margin-bottom: 16px; line-height: 1.45; }

  /* Options ‚Äî big comfortable tap targets */
  .options { gap: 8px; }
  .opt {
    padding: 14px 12px;
    border-radius: 12px;
    font-size: .9rem;
    gap: 10px;
    min-height: 52px; /* comfortable thumb target */
  }
  .opt-key { width: 30px; height: 30px; border-radius: 8px; font-size: .76rem; }

  /* Quiz footer ‚Äî sticky on mobile ONLY during quiz */
  .quiz-footer.quiz-active {
    position: fixed;
    bottom: 0; left: 0; right: 0;
    border-radius: 0;
    border-top: 1px solid var(--border);
    padding: 12px 14px;
    padding-bottom: max(12px, env(safe-area-inset-bottom));
    background: rgba(17,24,39,.96);
    backdrop-filter: blur(18px);
    z-index: 50;
  }
  .btn { padding: 12px 16px; font-size: .88rem; border-radius: 14px; }
  .btn.primary { flex: 1; justify-content: center; font-size: .9rem; }
  .btn.ghost { flex-shrink: 0; }

  /* Result */
  .result-card { padding: 32px 18px; border-radius: 20px; }
  .result-emoji { font-size: 3rem; }
  .result-title { font-size: 1.3rem; }
  .result-score { font-size: 2.8rem; }
  .result-stats { gap: 8px; }
  .stat-chip { padding: 7px 11px; font-size: .8rem; }
  #homeBtn { padding: 14px; font-size: .9rem; border-radius: 14px; }
}

/* ‚îÄ‚îÄ Safe-area support for notched/dynamic-island phones ‚îÄ‚îÄ */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  header {
    padding-top: env(safe-area-inset-top);
  }
}

/* ‚îÄ‚îÄ Landscape phones ‚îÄ‚îÄ */
@media (max-height: 500px) and (orientation: landscape) {
  .quiz-footer, .quiz-footer.quiz-active { position: relative; }
  main { padding-bottom: 20px; }
  .q-body { padding: 14px 16px; }
  .q-text { font-size: 1rem; margin-bottom: 12px; }
  .options { gap: 6px; }
  .opt { padding: 10px 12px; min-height: 44px; }
  .page-hero { margin-bottom: 10px; }
  .page-hero h1 { font-size: 1.1rem; }
}
</style>
</head>
<body>

<!-- HEADER -->
<header>
  <div class="hdr">
    <div class="brand" id="brandHome">
      <div class="brand-mark">SY</div>
      <span class="brand-text">Shubha Yatra <em>Academy</em></span>
    </div>
    <div class="hdr-right">
      <div class="chip">‚è± <b id="settingTime">30</b>s per Q</div>
    </div>
  </div>
</header>

<!-- BREADCRUMB -->
<div class="bc-wrap">
  <div class="bc" id="breadcrumb"></div>
</div>

<main>

  <div class="page-hero">
    <h1 id="pageTitle">Select a Course</h1>
    <p id="pageDesc">Browse available courses and start a quiz.</p>
  </div>

  <!-- ‚ïê‚ïê COURSES ‚ïê‚ïê -->
  <section id="course-screen">
    <div class="section-shell fade-in">
      <div class="section-label">Available Courses</div>
      <div class="grid">
        <div class="card course-card" data-course="c1">
          <div class="card-head">
            <div class="card-icon">üíª</div>
            <div class="card-tag">PSC</div>
          </div>
          <h3>Computer Operator</h3>
          <p>Technical position (4th/5th level) recruited through Nepal's Public Service Commission (Lok Sewa Aayog). Covers fundamentals, OS, networking, and MS Office.</p>
          <div class="card-footer">
            <span>View Chapters</span>
            <div class="arrow-btn">‚Üí</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚ïê‚ïê CHAPTERS ‚ïê‚ïê -->
  <section id="chapter-screen" class="hidden">
    <div class="section-shell fade-in">
      <div class="section-label" id="chapterSectionLabel">Chapters</div>
      <div class="grid" id="chapterGrid"></div>
    </div>

    <!-- Data: chapters per course -->
    <div class="hidden" id="chapters-c1">
      <div class="card chapter-card" data-chapter="ch1" data-course="c1">
        <div class="card-head">
          <div class="card-icon">üñ•Ô∏è</div>
          <div class="card-tag">Chapter 1</div>
        </div>
        <h3>Computer Fundamentals</h3>
        <p>History, generations, characteristics, types of computers, data vs. information, and the IPO cycle.</p>
        <div class="card-footer">
          <span>Start Quiz</span>
          <div class="arrow-btn">‚Üí</div>
        </div>
      </div>
      <!-- Add more chapters below as needed -->
    </div>
  </section>

  <!-- ‚ïê‚ïê QUIZ ‚ïê‚ïê -->
  <section id="quiz-screen" class="hidden">
    <div class="quiz-wrap">
      <div class="quiz-shell fade-in">
        <!-- Header -->
        <div class="quiz-hdr">
          <div class="quiz-title" id="quizTitle">Quiz</div>
          <div class="timer-chip" id="timerChip">‚è± <span id="timerText">30</span>s</div>
        </div>
        <!-- Timer bar -->
        <div class="timer-bar"><div class="timer-fill" id="timerFill"></div></div>
        <!-- Progress -->
        <div class="progress-row">
          <div class="progress-info">
            <span>Question <b id="qCurrent">1</b> of <b id="qTotal">0</b></span>
            <span class="score-badge">‚ú¶ <span id="scoreLive">0</span> pts</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width:0%"></div>
          </div>
        </div>
        <!-- Question -->
        <div class="q-body">
          <div class="q-num" id="qNum">Question 1</div>
          <div class="q-text" id="qText">Loading‚Ä¶</div>
          <div class="options" id="optWrap"></div>
        </div>
        <!-- Footer -->
        <div class="quiz-footer">
          <button class="btn ghost" id="backBtn">‚Üê Exit Quiz</button>
          <button class="btn primary" id="nextBtn" disabled>Next ‚Üí</button>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚ïê‚ïê RESULT ‚ïê‚ïê -->
  <section id="result-screen" class="hidden">
    <div class="fade-in">
      <div class="result-card">
        <div class="result-emoji" id="resultEmoji">üéâ</div>
        <div class="result-title">Quiz Complete!</div>
        <div class="result-score"><span id="scoreVal">0</span> / <span id="totalVal">0</span></div>
        <div class="result-sub" id="resultPct">‚Äî%</div>
        <div class="result-msg" id="feedbackMsg">Well done!</div>
        <div class="result-stats">
          <div class="stat-chip g">‚úì Correct <b id="resCorrect">0</b></div>
          <div class="stat-chip r">‚úó Wrong <b id="resWrong">0</b></div>
          <div class="stat-chip">‚è≠ Skipped <b id="resSkipped">0</b></div>
        </div>
        <button class="btn primary" id="homeBtn" style="width:100%;justify-content:center;">‚Ü© Back to Home</button>
      </div>
    </div>
  </section>

  <!-- ‚ïê‚ïê QUESTION BANK ‚ïê‚ïê -->
  <!-- course > chapter = direct quiz, no topics needed
       data-chapter="ch1" maps directly to questions below
       data-answer: 0=A, 1=B, 2=C, 3=D -->
  <div id="questionBank" class="hidden">

    <div class="chapter-questions" data-chapter="ch1">

      <div class="q" data-q="Which component is considered the 'brain' of the computer, responsible for executing instructions?"
           data-options="Hard Drive|CPU (Central Processing Unit)|RAM (Random Access Memory)|Power Supply Unit" data-answer="1"></div>

      <div class="q" data-q="What was the primary electronic component used in First Generation computers (1940‚Äì1956)?"
           data-options="Transistors|Vacuum Tubes|Integrated Circuits|Microprocessors" data-answer="1"></div>

      <div class="q" data-q="Who invented the 'Tabulating Machine' which used punched cards to process the US Census?"
           data-options="Charles Babbage|Herman Hollerith|Blaise Pascal|Alan Turing" data-answer="1"></div>

      <div class="q" data-q="Which characteristic of a computer ensures that if the input is correct, the result will always be correct?"
           data-options="Speed|Accuracy|Versatility|Diligence" data-answer="1"></div>

      <div class="q" data-q="What technology replaced vacuum tubes in the Second Generation of computers?"
           data-options="Transistors|Microprocessors|Gears and Levers|Integrated Circuits" data-answer="0"></div>

      <div class="q" data-q="Which type of computer is used to measure continuous physical quantities like temperature or speed?"
           data-options="Digital Computer|Analog Computer|Mainframe Computer|Supercomputer" data-answer="1"></div>

      <div class="q" data-q="Who designed the 'Analytical Engine', considered the first general-purpose programmable computer design?"
           data-options="John von Neumann|Charles Babbage|Ada Lovelace|Blaise Pascal" data-answer="1"></div>

      <div class="q" data-q="Which generation of computers introduced the 'Microprocessor', putting the CPU on a single chip?"
           data-options="Third Generation|Fourth Generation|Second Generation|First Generation" data-answer="1"></div>

      <div class="q" data-q="A computer used in a hospital ICU that measures heartbeat (analog) and displays it as numbers (digital) is an example of:"
           data-options="Hybrid Computer|Supercomputer|Mainframe Computer|Tablet Computer" data-answer="0"></div>

      <div class="q" data-q="Which of the following is NOT a characteristic of a computer?"
           data-options="Automation|Creativity|Storage|Speed" data-answer="1"></div>

      <div class="q" data-q="Which device, dating back to ancient Mesopotamia, is considered the earliest mechanical tool for calculation?"
           data-options="Slide Rule|Abacus|Pascaline|Napier's Bones" data-answer="1"></div>

      <div class="q" data-q="What does 'IC' stand for in the context of Third Generation computers?"
           data-options="Internal Calculator|Integrated Circuit|Intelligent Chip|Information Center" data-answer="1"></div>

      <div class="q" data-q="Which type of computer is designed for large organizations to handle high volumes of data processing?"
           data-options="Microcomputer|Mainframe Computer|Workstation|Embedded System" data-answer="1"></div>

      <div class="q" data-q="Which era of computing was defined by the use of simple gears, wheels, and physical motion before electricity?"
           data-options="The Mechanical Era|The Transistor Era|The Quantum Era|The Digital Era" data-answer="0"></div>

      <div class="q" data-q="In the acronym IPOS, what does the 'S' stand for?"
           data-options="System|Storage|Scan|Speed" data-answer="1"></div>

      <div class="q" data-q="The 'Pascaline', invented in 1642, was capable of performing which operations?"
           data-options="Multiplication and Division|Addition and Subtraction|Square Roots|Calculus" data-answer="1"></div>

      <div class="q" data-q="Which of the following is an example of a 'Microcomputer'?"
           data-options="The Summit Supercomputer|A Laptop|An IBM Mainframe|The ENIAC" data-answer="1"></div>

      <div class="q" data-q="Fifth Generation computers (Present‚ÄìFuture) are primarily focused on developing which technology?"
           data-options="Vacuum Tubes|Artificial Intelligence (AI)|Punch Cards|Mechanical Gears" data-answer="1"></div>

      <div class="q" data-q="What is the meaning of 'Versatility' in computers?"
           data-options="Ability to store data forever|Ability to perform different types of tasks|Ability to repair itself|Ability to process data at high speed" data-answer="1"></div>

      <div class="q" data-q="Which computer was the first to be commercially available for business use?"
           data-options="ENIAC|UNIVAC|Colossus|Difference Engine" data-answer="1"></div>

      <div class="q" data-q="What are the three core components of a computer system?"
           data-options="CPU, RAM, HDD|Input, Output, Storage|Hardware, Software, Users (Peopleware)|Monitor, Keyboard, Mouse" data-answer="2"></div>

      <div class="q" data-q="Which of the following BEST defines a computer system?"
           data-options="A machine that only plays games|An integrated set of hardware and software for input, process, store, output|A device used only for communication|A collection of keyboards and monitors" data-answer="1"></div>

      <div class="q" data-q="An ATM machine is an example of:"
           data-options="A general-purpose microcomputer|A special-purpose computer system for banking|A supercomputer|A hybrid analog-digital device" data-answer="1"></div>

      <div class="q" data-q="Which of the following is the BEST definition of data?"
           data-options="Processed and meaningful facts|Raw, unorganized facts and figures with no meaning by themselves|Instructions given to a computer|The output shown on a monitor" data-answer="1"></div>

      <div class="q" data-q="A student's exam marks ‚Äî 40, 60, and 80 ‚Äî are an example of:"
           data-options="Information|Data|Output|Processing" data-answer="1"></div>

      <div class="q" data-q="After calculating Total = 180 and Result = PASS from marks 40, 60, 80 ‚Äî the result 'PASS' is:"
           data-options="Data|Raw input|Information|Storage" data-answer="2"></div>

      <div class="q" data-q="In the IPO cycle, which stage involves the CPU performing calculations?"
           data-options="Input|Processing|Output|Storage" data-answer="1"></div>

      <div class="q" data-q="Which of the following devices is used in the INPUT stage?"
           data-options="Monitor|Printer|Speaker|Scanner" data-answer="3"></div>

      <div class="q" data-q="ROM (Read Only Memory) is best described as:"
           data-options="Volatile memory lost when power is off|A high-speed temporary CPU register|Non-volatile memory storing permanent system instructions|An output device" data-answer="2"></div>

      <div class="q" data-q="Which of the following is an OUTPUT device?"
           data-options="Keyboard|Scanner|Microphone|Projector" data-answer="3"></div>

      <div class="q" data-q="What does the ALU (Arithmetic Logic Unit) do?"
           data-options="Controls data flow between components|Stores data temporarily during processing|Performs arithmetic and logical operations|Displays output to the user" data-answer="2"></div>

      <div class="q" data-q="SSD and HDD are examples of:"
           data-options="Primary volatile storage|CPU registers|Permanent secondary storage|Output devices" data-answer="2"></div>

      <!-- ‚úèÔ∏è ADD MORE QUESTIONS BELOW
           <div class="q" data-q="Your question here?"
                data-options="Option A|Option B|Option C|Option D" data-answer="0"></div>
      -->
    </div>

  </div><!-- /questionBank -->

</main>

<script>
(() => {
  const TIME_PER_Q = 30;
  const $ = (s, p = document) => p.querySelector(s);
  const $$ = (s, p = document) => [...p.querySelectorAll(s)];

  const screens = {
    course:  $('#course-screen'),
    chapter: $('#chapter-screen'),
    quiz:    $('#quiz-screen'),
    result:  $('#result-screen'),
  };

  let state = {
    courseId: null, courseName: null,
    chapterId: null, chapterName: null,
    quiz: [], idx: 0, score: 0,
    skipped: 0, wrong: 0,
    locked: false, timer: null, timeLeft: TIME_PER_Q,
  };

  // ‚îÄ‚îÄ Utilities ‚îÄ‚îÄ
  function hideAll() { Object.values(screens).forEach(s => s.classList.add('hidden')); }
  function show(key) {
    hideAll();
    const el = screens[key];
    el.classList.remove('hidden');
    // Scroll to top smoothly on navigation
    window.scrollTo({ top: 0, behavior: 'smooth' });
    // Only keep sticky footer class when in quiz
    document.querySelector('.quiz-footer')?.classList.toggle('quiz-active', key === 'quiz');
  }
  function setHead(title, desc) {
    $('#pageTitle').textContent = title;
    $('#pageDesc').textContent  = desc;
  }
  function setBreadcrumb(crumbs) {
    // crumbs: [{label, nav}] last one is current (no link)
    const bc = $('#breadcrumb');
    if (!crumbs.length) { bc.innerHTML = ''; return; }
    bc.innerHTML = crumbs.map((c, i) => {
      if (i === crumbs.length - 1)
        return `<span class="bc-current">${c.label}</span>`;
      return `<span class="bc-item" data-nav="${c.nav}">${c.label}</span>`;
    }).join('<span class="bc-sep">‚Ä∫</span>');
  }
  function clearTimer() { clearInterval(state.timer); state.timer = null; }

  // ‚îÄ‚îÄ Navigation ‚îÄ‚îÄ
  function goHome() {
    clearTimer();
    Object.assign(state, { courseId: null, courseName: null, chapterId: null, chapterName: null, quiz: [], idx: 0, score: 0, skipped: 0, wrong: 0, locked: false });
    show('course');
    setHead('Select a Course', 'Browse available courses and start a quiz.');
    setBreadcrumb([]);
  }

  function loadChapters(courseId, courseName) {
    state.courseId = courseId; state.courseName = courseName;
    state.chapterId = state.chapterName = null;

    const grid = $('#chapterGrid');
    grid.innerHTML = '';
    const src = $(`#chapters-${courseId}`);
    if (src) src.querySelectorAll('.chapter-card').forEach(el => grid.appendChild(el.cloneNode(true)));

    $('#chapterSectionLabel').textContent = `Chapters ‚Äî ${courseName}`;

    show('chapter');
    setHead(courseName, 'Select a chapter to start the quiz.');
    setBreadcrumb([
      { label: 'Home', nav: 'home' },
      { label: courseName, nav: 'course' },
    ]);
  }

  function getQuestions(chapterId) {
    const block = $(`.chapter-questions[data-chapter="${chapterId}"]`, $('#questionBank'));
    if (!block) return [];
    return $$('.q', block).map(el => ({
      q: el.getAttribute('data-q') || '',
      options: (el.getAttribute('data-options') || '').split('|'),
      answer: parseInt(el.getAttribute('data-answer') || '0', 10),
    })).filter(x => x.q && x.options.length >= 2);
  }

  function shuffle(arr) {
    const a = [...arr];
    for (let i = a.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  }

  function startQuiz(chapterId, chapterName) {
    state.chapterId = chapterId; state.chapterName = chapterName;
    let qs = getQuestions(chapterId);
    if (!qs.length) qs = [
      { q: 'Sample: 1 Byte equals?', options: ['4 bits', '8 bits', '16 bits', '32 bits'], answer: 1 },
    ];
    state.quiz = shuffle(qs);
    state.idx = 0; state.score = 0; state.skipped = 0; state.wrong = 0; state.locked = false;

    $('#quizTitle').textContent = chapterName;
    $('#qTotal').textContent = state.quiz.length;
    updateScoreDisplay();

    show('quiz');
    setHead('Quiz in Progress', `${chapterName} ‚Äî Answer before time runs out!`);
    setBreadcrumb([
      { label: 'Home', nav: 'home' },
      { label: state.courseName, nav: 'course' },
      { label: chapterName, nav: 'quiz' },
    ]);
    loadQuestion();
  }

  // ‚îÄ‚îÄ Quiz Logic ‚îÄ‚îÄ
  function updateScoreDisplay() {
    $('#scoreLive').textContent = state.score;
  }

  function loadQuestion() {
    clearTimer();
    state.locked = false;
    $('#nextBtn').disabled = true;

    if (state.idx >= state.quiz.length) return showResults();

    const item = state.quiz[state.idx];
    const pct = (state.idx / state.quiz.length) * 100;
    $('#progressFill').style.width = pct + '%';
    $('#qCurrent').textContent = state.idx + 1;
    $('#qNum').textContent = `Question ${state.idx + 1}`;
    $('#qText').innerHTML = item.q;

    const optWrap = $('#optWrap');
    optWrap.innerHTML = '';
    ['A', 'B', 'C', 'D'].slice(0, item.options.length).forEach((lbl, i) => {
      const btn = document.createElement('button');
      btn.className = 'opt';
      btn.innerHTML = `<span class="opt-key">${lbl}</span><span>${item.options[i]}</span>`;
      btn.addEventListener('click', () => pick(i, btn));
      optWrap.appendChild(btn);
    });

    startTimer();
  }

  function pick(selected, btn) {
    if (state.locked) return;
    state.locked = true;
    clearTimer();

    const correct = state.quiz[state.idx].answer;
    const buttons = $$('.opt', $('#optWrap'));

    if (selected === correct) {
      state.score++;
      updateScoreDisplay();
      btn.classList.add('correct');
    } else {
      btn.classList.add('wrong');
      state.wrong++;
      if (buttons[correct]) buttons[correct].classList.add('correct');
    }
    buttons.forEach(b => b.disabled = true);
    $('#nextBtn').disabled = false;
  }

  function timeout() {
    if (state.locked) return;
    state.locked = true;
    clearTimer();
    state.skipped++;

    const correct = state.quiz[state.idx].answer;
    const buttons = $$('.opt', $('#optWrap'));
    buttons.forEach(b => b.disabled = true);
    if (buttons[correct]) buttons[correct].classList.add('correct');
    $('#nextBtn').disabled = false;
  }

  function startTimer() {
    state.timeLeft = TIME_PER_Q;
    $('#timerText').textContent = state.timeLeft;
    $('#timerFill').className = 'timer-fill';
    $('#timerFill').style.width = '100%';
    $('#timerChip').classList.remove('warn');
    $('#settingTime').textContent = TIME_PER_Q;

    state.timer = setInterval(() => {
      state.timeLeft--;
      $('#timerText').textContent = state.timeLeft;
      const pct = Math.max(0, (state.timeLeft / TIME_PER_Q) * 100);
      $('#timerFill').style.width = pct + '%';
      if (state.timeLeft <= 10) {
        $('#timerFill').className = 'timer-fill low';
        $('#timerChip').classList.add('warn');
      }
      if (state.timeLeft <= 0) timeout();
    }, 1000);
  }

  function showResults() {
    clearTimer();
    const total = state.quiz.length;
    const pct = Math.round((state.score / total) * 100);

    $('#scoreVal').textContent = state.score;
    $('#totalVal').textContent = total;
    $('#resultPct').textContent = pct + '%';
    $('#resCorrect').textContent = state.score;
    $('#resWrong').textContent   = state.wrong;
    $('#resSkipped').textContent = state.skipped;

    const [emoji, msg] =
      pct >= 90 ? ['üèÜ', 'Outstanding ‚Äî you nailed it!'] :
      pct >= 75 ? ['üåü', 'Great work! Almost perfect.']  :
      pct >= 55 ? ['üëç', 'Good effort! Keep practicing.'] :
      pct >= 35 ? ['üìö', 'Needs more practice ‚Äî you\'ll improve!'] :
                  ['üí™', 'Don\'t give up ‚Äî review and retry!'];
    $('#resultEmoji').textContent = emoji;
    $('#feedbackMsg').textContent = msg;

    show('result');
    setHead('Quiz Complete', `You scored ${state.score} out of ${total}.`);
    setBreadcrumb([{ label: 'Home', nav: 'home' }]);
  }

  // ‚îÄ‚îÄ Event Delegation ‚îÄ‚îÄ
  document.addEventListener('click', e => {
    const cc = e.target.closest('.course-card');
    if (cc) {
      const id   = cc.dataset.course;
      const name = cc.querySelector('h3')?.textContent?.trim() || 'Course';
      return loadChapters(id, name);
    }

    const chc = e.target.closest('.chapter-card');
    if (chc && !screens.chapter.classList.contains('hidden')) {
      const id   = chc.dataset.chapter;
      const name = chc.querySelector('h3')?.textContent?.trim() || 'Chapter';
      return startQuiz(id, name);
    }

    const nav = e.target.closest('[data-nav]');
    if (nav) {
      const where = nav.dataset.nav;
      if (where === 'home')   return goHome();
      if (where === 'course' && state.courseId) return loadChapters(state.courseId, state.courseName);
    }
  });

  $('#nextBtn').addEventListener('click', () => {
    if (!state.locked) return;
    state.idx++;
    loadQuestion();
  });

  $('#backBtn').addEventListener('click', () => {
    clearTimer();
    loadChapters(state.courseId, state.courseName);
  });

  $('#homeBtn').addEventListener('click', goHome);
  $('#brandHome').addEventListener('click', goHome);

  // Boot
  goHome();
})();
</script>
</body>
</html>